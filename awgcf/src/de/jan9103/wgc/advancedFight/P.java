/**
 * Copyright 2021 Jan9103 (@jan9103:matrix.org Jan9103.wargear@protonmail.com)
 *
 * Permission is hereby granted, free of charge, to any person or organization
 * obtaining a copy of the software and accompanying documentation covered by
 * this license (the "Software") to use, reproduce, display, distribute, execute,
 * and transmit the Software, and to prepare derivative works of the Software,
 * and to permit third-parties to whom the Software is furnished to do so, all
 * subject to the following:
 *
 * The copyright notices in the Software and this entire statement, including
 * the above license grant, this restriction and the following disclaimer, must
 * be included in all copies of the Software, in whole or in part, and all
 * derivative works of the Software, unless such copies or derivative works are
 * solely in the form of machine-executable object code generated by a source
 * language processor.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
 * SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE FOR
 * ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
 * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */
package de.jan9103.wgc.advancedFight;

import java.util.Random;
import java.util.Set;

import org.bukkit.Location;
import org.bukkit.plugin.java.JavaPlugin;

import de.jan9103.wargearcore.User;
import de.jan9103.wargearcore.fight.Fight;
import de.jan9103.wgc.advancedFight.mods.*;
import static de.jan9103.wargearcore.fight.Fight.allMods;

public class P extends JavaPlugin{
	public static P p;
	public static final Random r=new Random();
	@Override public void onEnable(){
		p=this;
		allMods.put("silvester",Silvester.class);
		allMods.put("explosivewaterremover",ExplosiveWaterRemover.class);
		allMods.put("glowingtnt",GlowingTntMod.class);
		allMods.put("glowingplayers",GlowingPlayers.class);
		allMods.put("nogravtnt",NoGravTntMod.class);
		allMods.put("randomizer",RandomizerMod.class);
		allMods.put("sackrace",SackRaceMod.class);
		allMods.put("spaceinvaders",SpaceInvadersMod.class);
		allMods.put("icestorm",IceStorm.class);
		allMods.put("endergear",EnderGear.class);
	}
	public static Location rdm(Fight f,int y){
		Location l=new Location(
				f.area.w,
				f.area.area.low.x+P.r.nextInt(Math.abs(f.area.area.high.x-f.area.area.low.x)),
				y,
				f.area.area.low.z+P.r.nextInt(Math.abs(f.area.area.high.z-f.area.area.low.z))
			);
		//System.out.println("::"+l.getBlockX()+" "+l.getBlockY()+" "+l.getBlockZ());
		return l;
	}
	public static User rdm(Set<User>s){
		int i=r.nextInt(s.size()-1);
		for(User u:s)if(i--==0)return u;
		return s.iterator().next();
	}
}
